<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.firstclass.childrenctv.user.UserMapper">

   <insert id="insert" parameterType="com.firstclass.childrenctv.user.UserVO">
        INSERT INTO USER_TABLE(user_id, user_name, user_email, user_loginID, user_password, user_age, user_gender, user_address)
            VALUES (seq_user.NEXTVAL, #{user_name}, #{user_email}, #{user_loginID}, #{user_password}, #{user_age}, #{user_gender}, #{user_address})
    </insert>
    
    <insert id="insertSelectKey">
  		<selectKey keyProperty="user_id" order="BEFORE" resultType="long">
  		 select seq_user.nextval from dual
  		</selectKey>
  		insert into user_table(user_id, user_name, user_email, user_loginID, user_password, user_age, user_gender, user_address)
  		values(#{user_id}, #{user_name}, #{user_email}, #{user_loginID}, #{user_password}, #{user_age}, #{user_gender}, #{user_address})
  	</insert>

    <select id="findById" parameterType="long" resultType="com.firstclass.childrenctv.user.UserVO">
        SELECT * FROM USER_TABLE WHERE user_id = #{id}
    </select>

    <select id="existUserByIdAndPassword" resultType="com.firstclass.childrenctv.user.UserVO">
        SELECT * FROM USER_TABLE WHERE user_loginID = #{loginId} AND user_password = #{password}
    </select>
    
    <select id="existUserByNameAndEmail" resultType="com.firstclass.childrenctv.user.UserVO">
        SELECT * FROM USER_TABLE WHERE user_name = #{name} AND user_email = #{email}
    </select>
    
    <select id="idcheck" resultType="int">
    	SELECT count(*) FROM USER_TABLE WHERE user_loginID = #{loginId}
    </select>
    
</mapper>